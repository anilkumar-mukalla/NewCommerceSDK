# This document is to showcase how to add a button to OOB form by X++ Form Extension, and then add click event handler for this button,  and when click the button a batch job will execute
## The background of this document is to help populate RETAILPRODUCTATTRIBUTESLOOKUP by code running in batch job because it can only populate when click the category node in the "Commerce Category Hierarchy":
<img width="1471" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/b81484b9-5f4e-43f6-9525-407b3d3cc3ff">

## 1. How to run it?<br/>
- Open this Menu<br/>
<img width="233" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/51606a6e-40b5-40c9-b853-0307d6005116"><br/>
- Click this button <br/> 
<img width="640" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/fc0d3552-e097-495e-9450-31188fc25714"><br/>
- Open this RunBaseBatch Dialog, and then click OK<br/>
<img width="473" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/76e72b84-b469-46f3-9359-4a19ea6623c2"><br/>
- Once batch job is done:<br/>
<img width="803" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/feb1aec6-99ce-42ef-895c-7c8d20ba99e1"><br/>
- Go to SQL SSMS and check the data
  ```sql
  select T.CATEGORYNAME, * from dbo.[RETAILATTRIBUTESLEGALENTITYLOOKUPENTITY] as T where T.LEGALENTITY = 'USRT' and T.CATEGORYHIERARCHYNAME = 'GHTest2'
  ```
  <img width="875" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/66179f70-1cb7-4b5f-8838-0197a09247bf">

## 2. How to customize it?<br/>
- Go to AOT, find form RetailCategory:<br/>
  <img width="310" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/79332248-8e88-40f4-9f09-e9566e16922a"><br/>
- Right click and open context menu:<br/>
  <img width="324" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/87a91ca6-9910-47a0-aaec-f2a98bac1b41"><br/>
  - In the form design, add the button:<br/>
  <img width="1101" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/c35b083b-1fc0-44a5-9036-703a079c4ccf"><br/>


## Step 3 Finally the Dual Display is working properly<br/>
<img width="605" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/2409a21f-62f1-4597-8c85-decaff54f5cf">

## If you want to debug the Dual Display code, please press F12 on Dual Display Screen:
![image](https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/231b4c2e-0a38-406e-9e5c-dbbb172271fa)

You can find source code
<img width="1317" alt="image" src="https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/d3b58f63-1624-4cf5-98cf-69527bf899d6">
 and then html tags:
 ![image](https://github.com/zhangguanghuib/NewCommerceSDK/assets/14832260/4332235f-ab8a-4445-b4b8-f018ebee0213)
