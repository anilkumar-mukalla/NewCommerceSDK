<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="Index.css">
</head>

<body>
    <section id="red">
        <h1>RED</h1>
    </section>
    <section id="orange">
        <h1>ORANGE</h1>
    </section>
    <section id="yellow">
        <h1>YELLOW</h1>
    </section>
    <section id="green">
        <h1>GREEN</h1>
    </section>
    <ul id="nav">
        <li class="active">RED</li>
        <li>ORANGE</li>
        <li>YELLOW</li>
        <li>GREEN</li>
    </ul>
    <script>
        let nav = document.getElementById("nav");
        let lis = document.querySelectorAll("#nav li");
        let index;
        /*         nav.addEventListener('click', function(event){
                    if(event.target.tagName == 'LI'){
                         for(let i=0; i<lis.length; ++i){
                            lis[i].className='';
                            lis[i].index = i;
                         }
                    }
                    event.target.className="active";
                    window.scrollTo({
                        top: event.target.index * 800,
                        behavior:"smooth"
                    });
                }, false); */

        for (let i = 0; i < lis.length; ++i) {
            lis[i].onclick = function () {
                for (let j = 0; j < lis.length; j++) {
                    lis[j].className = '';
                }
                this.className = "active";
                window.scrollTo({
                    top: i * 800,
                    behavior: "smooth"
                })
            }
        }

        window.addEventListener("scroll", function () {
            if (index != Math.floor((document.documentElement.scrollTop + 400) / 800)) {
                index = Math.floor((document.documentElement.scrollTop + 400) / 800);
                //console.log(index);
                // console.log(document.documentElement.scrollTop);
                for (let i = 0; i < lis.length; ++i) {
                    lis[i].className = '';
                }
                lis[index].className = 'active'
            }
        }, false);
    </script>
</body>

</html>